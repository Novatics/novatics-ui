{"version":3,"file":"file-upload.stories-9120a3c1.js","sources":["../../../../packages/file-upload/src/from-url/styles.ts","../../../../packages/file-upload/src/from-url/index.tsx","../../../../packages/file-upload/src/lib/file-upload.tsx","../../../../packages/file-upload/src/lib/file-upload.stories.mdx"],"sourcesContent":["import { Box } from '@mui/material';\nimport { styled } from '@novatics/styles';\nimport { FromUrlProps } from '.';\n\ninterface FromURLContainerProps extends Pick<FromUrlProps, 'variant'> {\n  disabled?: boolean;\n}\n\nexport const FromURLContainer = styled(Box)<FromURLContainerProps>((props) => {\n  const border = props.variant === 'single' ? '1px solid' : 'none';\n  const padding = props.variant === 'single' ? '24px' : '0';\n\n  return {\n    border: border,\n    padding: padding,\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '8px',\n    borderColor: props.theme.palette.grey[20],\n    width: 'fit-content',\n    minWidth: '500px',\n  };\n});\n","import { useState, useEffect } from 'react';\nimport { Box, TextField, TextFieldProps, Typography } from '@mui/material';\nimport { FromURLContainer } from './styles';\nimport { Button, ButtonProps } from '@novatics/button';\n\nexport interface FromUrlProps {\n  acceptLabels?: string;\n  variant?: 'single' | 'combined';\n  disabled?: boolean;\n  buttonProps?: ButtonProps;\n  textFieldProps?: TextFieldProps;\n  error?: string;\n  onAccept?: (url: string) => void;\n  onReject?: (url: string) => void;\n  handleValidation?: (url: string) => string | null;\n  clearOnAccept?: boolean;\n}\n\nexport function FromUrl(props: FromUrlProps) {\n  const {\n    acceptLabels,\n    variant = 'single',\n    disabled,\n    buttonProps,\n    textFieldProps,\n    onAccept = () => undefined,\n    onReject = () => undefined,\n    handleValidation,\n    error,\n    clearOnAccept = true,\n  } = props;\n\n  const [url, setUrl] = useState('');\n  const [errorText, setErrorText] = useState<string>(error || '');\n\n  useEffect(() => {\n    if (error) setErrorText(error);\n  }, [error]);\n\n  function isValidUrl(urlString: string) {\n    try {\n      return Boolean(new URL(urlString));\n    } catch (err) {\n      return false;\n    }\n  }\n\n  const validate = (url: string): string | null => {\n    if (handleValidation) return handleValidation(url);\n    if (!url) return 'URL is required';\n    if (!isValidUrl(url)) return 'Invalid URL';\n    return null;\n  };\n\n  const handleSubmit = () => {\n    setErrorText('');\n    const validationResult = validate(url);\n    if (validationResult === null) {\n      onAccept(url);\n      if (clearOnAccept) setUrl('');\n    } else {\n      onReject(url);\n      setErrorText(validationResult);\n    }\n  };\n\n  return (\n    <FromURLContainer variant={variant} disabled={disabled}>\n      <Typography variant=\"overline\" color=\"grey.70\">\n        Upload by URL\n      </Typography>\n\n      <Box sx={{ display: 'flex', gap: '8px' }}>\n        <TextField\n          variant=\"outlined\"\n          placeholder=\"Insert URL here\"\n          inputProps={{ style: { padding: '0' } }}\n          sx={{ flexGrow: 1 }}\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          disabled={disabled}\n          {...textFieldProps}\n        />\n        <Button\n          variant=\"outlined\"\n          disabled={!url || disabled}\n          sx={{ textTransform: 'capitalize' }}\n          onClick={() => handleSubmit()}\n          {...buttonProps}\n        >\n          Submit\n        </Button>\n      </Box>\n\n      <Typography\n        variant=\"caption\"\n        color={errorText ? 'error.main' : 'grey.70'}\n      >\n        {errorText\n          ? errorText\n          : acceptLabels\n          ? `Accepted formats: ${acceptLabels}`\n          : 'All files are accepted'}\n      </Typography>\n    </FromURLContainer>\n  );\n}\n","import { FromUrl, FromUrlProps } from '../from-url';\nimport { Box, Typography } from '@mui/material';\nimport { styled } from '@novatics/styles';\n\nexport interface FileUploadProps {\n  fromUrlProps: FromUrlProps;\n}\n\nexport const FileUploadContainer = styled(Box)`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n\n  > div > *:first-of-type {\n    margin: 10px 0;\n  }\n\n  > div:not(:first-of-type):before {\n    content: '';\n    display: block;\n    height: 1px;\n    background-color: lightgray;\n  }\n`;\n\nexport function FileUpload(props: FileUploadProps) {\n  const { fromUrlProps } = props;\n\n  return (\n    <FileUploadContainer>\n      <Box>\n        <Typography variant=\"h6\">From URL:</Typography>\n        <FromUrl\n          onAccept={(url) => console.log(`url`, url)}\n          {...fromUrlProps}\n        />\n      </Box>\n    </FileUploadContainer>\n  );\n}\n\nexport default FileUpload;\n","import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';\nimport pkg from '../../package.json';\nimport { FileUpload } from './file-upload';\nimport { FromUrl } from '../from-url';\n\n<Meta title=\"File Upload\" component={FileUpload} />\n\n# FileUpload <img src={`https://img.shields.io/badge/Version-v${pkg.version}-brightgreenn`} />\n\nUse this component for File Upload\n\n### Installation\n\nFirst install the latest version of the package from `@novatics/file-upload`.\n\n```bash\nyarn add @novatics/file-upload\n```\n\n### Dependencies\n\nThis component extends [Material UI React Text Field](https://mui.com/material-ui/react-text-field). Therefore is needed to install Material UI:\n\n```bash\nyarn add @mui/material @emotion/react @emotion/styled\n```\n\n### Basic Usage\n\n<Canvas>\n  <Story name=\"Basic Usage\">\n    {(args) => {\n      return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n          <FileUpload\n            fromUrlProps={{ accept: 'image/jpeg', acceptLabels: '.JPEG' }}\n          />\n        </div>\n      );\n    }}\n  </Story>\n</Canvas>\n\n```tsx\nimport FileUpload from '@novatics/file-upload';\n\n<FileUpload />;\n```\n\n### From URL\n\n<Canvas>\n  <Story name=\"From URL\">\n    {(args) => {\n      return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n          <FromUrl />\n        </div>\n      );\n    }}\n  </Story>\n</Canvas>\n\n```tsx\nimport { FromUrl, FromUrlProps } from '@novatics/file-upload';\n\n<FromUrl />;\n```\n\n### Playground\n\n<Canvas>\n  <Story name=\"Playground\" argTypes={{}}>\n    {(args) => {\n      return (\n        <div style={{ display: 'flex', flexDirection: 'row' }}>\n          <FileUpload {...args} />\n        </div>\n      );\n    }}\n  </Story>\n</Canvas>\n\n<ArgsTable story=\"Playground\" />\n"],"names":["FromURLContainer","styled","Box","props","border","padding","FromUrl","acceptLabels","variant","disabled","buttonProps","textFieldProps","onAccept","onReject","handleValidation","error","clearOnAccept","url","setUrl","useState","errorText","setErrorText","useEffect","isValidUrl","urlString","validate","url2","handleSubmit","validationResult","jsxs","jsx","Typography","TextField","e","Button","FileUploadContainer","FileUpload","fromUrlProps","MDXContent","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Meta","pkg","Canvas","Story","args","ArgsTable","basicUsage","fromUrl","playground","componentMeta","__namedExportsOrder"],"mappings":"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"}